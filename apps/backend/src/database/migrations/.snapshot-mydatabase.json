{
  "namespaces": [
    "public"
  ],
  "name": "public",
  "tables": [
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "uuid"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        }
      },
      "name": "attachments",
      "schema": "public",
      "indexes": [
        {
          "keyName": "attachments_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {},
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "name": {
          "name": "name",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        }
      },
      "name": "languages",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "name"
          ],
          "composite": false,
          "keyName": "languages_name_key",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "keyName": "languages_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {},
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "name": {
          "name": "name",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "language_id": {
          "name": "language_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "artist_type": {
          "name": "artist_type",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "enumItems": [
            "person",
            "group",
            "project"
          ],
          "mappedType": "enum"
        },
        "profile_pic_id": {
          "name": "profile_pic_id",
          "type": "uuid",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "uuid"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        }
      },
      "name": "artists",
      "schema": "public",
      "indexes": [
        {
          "keyName": "artists_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "artists_language_id_foreign": {
          "constraintName": "artists_language_id_foreign",
          "columnNames": [
            "language_id"
          ],
          "localTableName": "public.artists",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.languages",
          "createForeignKeyConstraint": true,
          "deleteRule": "set null",
          "updateRule": "cascade"
        },
        "artists_profile_pic_id_foreign": {
          "constraintName": "artists_profile_pic_id_foreign",
          "columnNames": [
            "profile_pic_id"
          ],
          "localTableName": "public.artists",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.attachments",
          "createForeignKeyConstraint": true,
          "deleteRule": "set null",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "artist_id": {
          "name": "artist_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        }
      },
      "name": "artist_groups",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "artist_id"
          ],
          "composite": false,
          "keyName": "artist_groups_artist_id_key",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "keyName": "artist_groups_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "artist_groups_artist_id_foreign": {
          "constraintName": "artist_groups_artist_id_foreign",
          "columnNames": [
            "artist_id"
          ],
          "localTableName": "public.artist_groups",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.artists",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "group_id": {
          "name": "group_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "artist_id": {
          "name": "artist_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        }
      },
      "name": "group_members",
      "schema": "public",
      "indexes": [
        {
          "keyName": "group_members_pkey",
          "columnNames": [
            "group_id",
            "artist_id"
          ],
          "composite": true,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "group_members_group_id_foreign": {
          "constraintName": "group_members_group_id_foreign",
          "columnNames": [
            "group_id"
          ],
          "localTableName": "public.group_members",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.artist_groups",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        },
        "group_members_artist_id_foreign": {
          "constraintName": "group_members_artist_id_foreign",
          "columnNames": [
            "artist_id"
          ],
          "localTableName": "public.group_members",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.artists",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "name": {
          "name": "name",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "year": {
          "name": "year",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "integer"
        },
        "language_id": {
          "name": "language_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "main_artist_id": {
          "name": "main_artist_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "album_type": {
          "name": "album_type",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "'Album'",
          "enumItems": [
            "Album",
            "Single",
            "Compilation",
            "Soundtrack",
            "Live",
            "Remix",
            "Other"
          ],
          "mappedType": "enum"
        },
        "musicbrainz_album_id": {
          "name": "musicbrainz_album_id",
          "type": "uuid",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "uuid"
        },
        "cover_attachment_id": {
          "name": "cover_attachment_id",
          "type": "uuid",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "uuid"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        }
      },
      "name": "albums",
      "schema": "public",
      "indexes": [
        {
          "keyName": "albums_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "albums_language_id_foreign": {
          "constraintName": "albums_language_id_foreign",
          "columnNames": [
            "language_id"
          ],
          "localTableName": "public.albums",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.languages",
          "createForeignKeyConstraint": true,
          "deleteRule": "set null",
          "updateRule": "cascade"
        },
        "albums_main_artist_id_foreign": {
          "constraintName": "albums_main_artist_id_foreign",
          "columnNames": [
            "main_artist_id"
          ],
          "localTableName": "public.albums",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.artists",
          "createForeignKeyConstraint": true,
          "deleteRule": "set null",
          "updateRule": "cascade"
        },
        "albums_cover_attachment_id_foreign": {
          "constraintName": "albums_cover_attachment_id_foreign",
          "columnNames": [
            "cover_attachment_id"
          ],
          "localTableName": "public.albums",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.attachments",
          "createForeignKeyConstraint": true,
          "deleteRule": "set null",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "name": {
          "name": "name",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        }
      },
      "name": "tags",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "name"
          ],
          "composite": false,
          "keyName": "tags_name_key",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "keyName": "tags_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {},
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "unsigned": false,
          "autoincrement": true,
          "primary": true,
          "nullable": false,
          "mappedType": "bigint"
        },
        "name": {
          "name": "name",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "integer"
        },
        "is_instrumental": {
          "name": "is_instrumental",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "language_id": {
          "name": "language_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "bigint"
        },
        "musicbrainz_track_id": {
          "name": "musicbrainz_track_id",
          "type": "uuid",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "uuid"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        }
      },
      "name": "tracks",
      "schema": "public",
      "indexes": [
        {
          "keyName": "tracks_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "tracks_language_id_foreign": {
          "constraintName": "tracks_language_id_foreign",
          "columnNames": [
            "language_id"
          ],
          "localTableName": "public.tracks",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.languages",
          "createForeignKeyConstraint": true,
          "deleteRule": "set null",
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "uuid"
        },
        "track_id": {
          "name": "track_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "type": {
          "name": "type",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "hash": {
          "name": "hash",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "upload_hash_check": {
          "name": "upload_hash_check",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "file_codec": {
          "name": "file_codec",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "file_container": {
          "name": "file_container",
          "type": "text",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "text"
        },
        "islossless": {
          "name": "islossless",
          "type": "boolean",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "false",
          "mappedType": "boolean"
        },
        "bitrate": {
          "name": "bitrate",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "integer"
        },
        "sample_rate": {
          "name": "sample_rate",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": true,
          "mappedType": "integer"
        },
        "upload_status": {
          "name": "upload_status",
          "type": "smallint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "enum"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(6)",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "length": 6,
          "default": "now()",
          "mappedType": "datetime"
        }
      },
      "name": "track_quality",
      "schema": "public",
      "indexes": [
        {
          "columnNames": [
            "hash"
          ],
          "composite": false,
          "keyName": "track_quality_hash_unique",
          "constraint": true,
          "primary": false,
          "unique": true
        },
        {
          "keyName": "track_quality_pkey",
          "columnNames": [
            "id"
          ],
          "composite": false,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "track_quality_track_id_foreign": {
          "constraintName": "track_quality_track_id_foreign",
          "columnNames": [
            "track_id"
          ],
          "localTableName": "public.track_quality",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.tracks",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "track_id": {
          "name": "track_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "artist_id": {
          "name": "artist_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        }
      },
      "name": "track_artists",
      "schema": "public",
      "indexes": [
        {
          "keyName": "track_artists_pkey",
          "columnNames": [
            "track_id",
            "artist_id"
          ],
          "composite": true,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "track_artists_track_id_foreign": {
          "constraintName": "track_artists_track_id_foreign",
          "columnNames": [
            "track_id"
          ],
          "localTableName": "public.track_artists",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.tracks",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        },
        "track_artists_artist_id_foreign": {
          "constraintName": "track_artists_artist_id_foreign",
          "columnNames": [
            "artist_id"
          ],
          "localTableName": "public.track_artists",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.artists",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "album_id": {
          "name": "album_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "track_id": {
          "name": "track_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "disc_no": {
          "name": "disc_no",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "default": "1",
          "mappedType": "integer"
        },
        "track_no": {
          "name": "track_no",
          "type": "int",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "integer"
        }
      },
      "name": "album_tracks",
      "schema": "public",
      "indexes": [
        {
          "keyName": "album_tracks_pkey",
          "columnNames": [
            "album_id",
            "track_id"
          ],
          "composite": true,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "album_tracks_album_id_foreign": {
          "constraintName": "album_tracks_album_id_foreign",
          "columnNames": [
            "album_id"
          ],
          "localTableName": "public.album_tracks",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.albums",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        },
        "album_tracks_track_id_foreign": {
          "constraintName": "album_tracks_track_id_foreign",
          "columnNames": [
            "track_id"
          ],
          "localTableName": "public.album_tracks",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.tracks",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    },
    {
      "columns": {
        "track_id": {
          "name": "track_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        },
        "tag_id": {
          "name": "tag_id",
          "type": "bigint",
          "unsigned": false,
          "autoincrement": false,
          "primary": false,
          "nullable": false,
          "mappedType": "bigint"
        }
      },
      "name": "track_tags",
      "schema": "public",
      "indexes": [
        {
          "keyName": "track_tags_pkey",
          "columnNames": [
            "track_id",
            "tag_id"
          ],
          "composite": true,
          "constraint": true,
          "primary": true,
          "unique": true
        }
      ],
      "checks": [],
      "foreignKeys": {
        "track_tags_track_id_foreign": {
          "constraintName": "track_tags_track_id_foreign",
          "columnNames": [
            "track_id"
          ],
          "localTableName": "public.track_tags",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.tracks",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        },
        "track_tags_tag_id_foreign": {
          "constraintName": "track_tags_tag_id_foreign",
          "columnNames": [
            "tag_id"
          ],
          "localTableName": "public.track_tags",
          "referencedColumnNames": [
            "id"
          ],
          "referencedTableName": "public.tags",
          "createForeignKeyConstraint": true,
          "updateRule": "cascade"
        }
      },
      "nativeEnums": {}
    }
  ],
  "nativeEnums": {}
}
